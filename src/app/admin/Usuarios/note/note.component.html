<app-home></app-home>
<br>
<br>
<br>
<div class="container-fluid">
  <div class="row justify-content-center">
    <div class="col-md-9">
      <!-- Contenido principal -->
      <div class="card border-primary mb-3">
        <div class="card-header">Notas</div>
        <div class="card-body text-primary">
          <div class="row justify-content-between align-items-center mb-3">
            <div class="col-md-6">
              <div class="input-group">
                <input type="text" class="form-control" placeholder="Buscar por profesor, estudiante, curso..."
  [(ngModel)]="searchQuery">
                <div class="input-group-append">
                  <button class="btn btn-outline-secondary" type="button" (click)="search()">Buscar</button>
                  <button class="btn btn-outline-secondary" type="button" (click)="clearSearch()">Limpiar</button>
                </div>
              </div>
            </div>
            <div class="col-md-6 text-right">
              <button class="btn btn-primary" type="button" (click)="openCreateModal()">Agregar Nota</button>
            </div>
          </div>
          <div class="my-5 text-left"></div>
          <div class="table-responsive">
            <table class="table table-striped table-bordered w-100 small">
              <thead>
                <!-- Encabezados de la tabla -->
                <tr class="table-primary">
                  <th>Profesor</th>
                  <th>Estudiante</th>
                  <th>Curso</th>
                  <th>Grado</th>
                  <th>Fecha de Registro</th>
                  <th>Comentarios</th>
                  <th>Estado</th>
                  <th>Acci√≥n</th>
                  <th>Eliminar</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let note of notes; let i = index">
                  <td>{{ getTeacherNameById(note.teacher_id) }}</td>
                  <td>{{ getStudentNameById(note.student_id) }}</td>
                  <td>{{ getCourseNameById(note.courser_id) }}</td>
                  <td>{{ getGradeInfoById(note.grade_id) }}</td>
                  <td>{{ note.noteDetail?.date_submitted }}</td>
                  <td>{{ note.noteDetail?.comment_register }}</td>
                  <td>{{ getStatusDescription(note.noteDetail?.status_note || '') }}</td>
                  <td>
                    <button type="button" class="btn btn-warning btn-sm" (click)="(note)">Editar</button>
                  </td>
                  <td>
                    <button type="button" class="btn btn-danger btn-sm"
                      (click)="deleteNoteConfirmation(note)">Eliminar</button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
  <br>
  <br>
  <br>

  <app-footer></app-footer>
</div>